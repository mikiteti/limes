<!DOCTYPE html>
<html lang="en" class="dark">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Limes</title>

        <link rel="stylesheet" href="https://tetimiki.hu/assets/tmui/tmui.css">
        <link href="style.css" rel="stylesheet">
        <script src="https://kit.fontawesome.com/4eaebaa12d.js" crossorigin="anonymous"></script>
    </head>
    <body>
        <header style="margin: 1em 0 2em 0">
            <div class="container">
                <div class="row buttons height_100">
                    <!-- <button style="font-size: 30px; margin-right: .25em;" class="icon_button" tm-source="https://icons.getbootstrap.com/assets/icons/grid.svg" onclick="window.open('http://tetimiki.hu/')"></button> -->
                    <svg style="color:var(--accent-color)" width="48" height="48" viewBox="0 0 12.7 12.7" version="1.1" id="icosahedron" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">
                        <path style="fill:currentColor;fill-opacity:1;stroke-width:1.058;stroke-linecap:round;filter:brightness(1)" d="M 1.5059844,5.982392 8.567967,8.7628023 7.4313443,1.2941536 Z" /><path style="fill:currentColor;fill-opacity:1;stroke-width:1.058;stroke-linecap:round;filter:brightness(.7)" d="M 1.5059844,5.982392 3.7638499,11.733769 8.567967,8.7628023" /><path style="fill:currentColor;fill-opacity:1;stroke-width:1.058;stroke-linecap:round;filter:brightness(.23)" d="M 3.7638499,11.733769 8.567967,8.7628023 9.9264735,10.775645" /><path style="fill:currentColor;fill-opacity:1;stroke-width:1.058;stroke-linecap:round;filter:brightness(.235)" d="M 9.9264735,10.775645 8.567967,8.7628023 12.308291,4.9006454" /><path style="fill:currentColor;fill-opacity:1;stroke-width:1.058;stroke-linecap:round;filter:brightness(.622)" d="M 12.308291,4.9006454 8.567967,8.7628023 7.4313443,1.2941536" /><path style="fill:currentColor;fill-opacity:1;stroke-width:1.058;stroke-linecap:round;filter:brightness(.33)" d="M 7.4313443,1.2941536 8.369879,0.84090983 12.308291,4.9006454 Z" /><path style="fill:currentColor;fill-opacity:1;stroke-width:1.058;stroke-linecap:round;filter:brightness(.56)" d="M 8.369879,0.84090983 7.4313443,1.2941536 2.3357866,1.1430723" /><path style="fill:currentColor;fill-opacity:1;stroke-width:1.058;stroke-linecap:round;filter:brightness(.926)" d="M 2.3357866,1.1430723 1.5059844,5.982392 7.4313443,1.2941536" /><path style="fill:currentColor;fill-opacity:1;stroke-width:1.058;stroke-linecap:round;filter:brightness(.65)" d="M 2.3357866,1.1430723 0.54570303,7.0417146 1.5059844,5.982392" /><path style="fill:currentColor;fill-opacity:1;stroke-width:1.058;stroke-linecap:round;filter:brightness(.454)" d="M 1.5059844,5.982392 0.54570303,7.0417146 3.7638499,11.733769" />
                    </svg>
                    <p class="no_xs" style="margin-right: .5em; font-weight: 500; font-size: 1.2em">Limes</p>
                    <!--
                        <button class="icon_button color_secondary hoverable modal_handler" icon-source="https://icons.getbootstrap.com/assets/icons/gear-fill.svg" tm-for="#settings_modal"></button>
                        <button class="icon_button color_secondary hoverable modal_handler" icon-source="https://icons.getbootstrap.com/assets/icons/search-heart-fill.svg" tm-for="#settings_modal"></button>
                    -->
                    <div id="icons" class="flex color_secondary" style="gap: .5em;">
                        <i class="fa-solid fa-gear hoverable modal_handler" tm-for="#settings_modal"></i>
                        <i class="fa-solid fa-magnifying-glass hoverable"></i>
                    </div>
                    <div class="modal_handler push_right flex color_secondary hoverable" tm-for="#users_modal" style="gap: .2em; align-items: center;">
                        <i class="fa-solid fa-user"></i>
                        <!-- <button class="icon_button" icon-source="https://icons.getbootstrap.com/assets/icons/person-fill.svg"></button> -->
                        <p id="current_user_name" class="no_xs">Profil</p>
                    </div>
                </div>
            </div>
        </header>

        <main>
            <div class="container">
                <div id="tags_list" class="toggle_list">
                    <p class="toggle">Iskola</p>
                    <p class="toggle">Milestone</p>
                    <p class="toggle">EM</p>
                    <p class="toggle">Fizika</p>
                    <p class="toggle">IPhO</p>
                </div> 
                <div class="row align_items_baseline">
                    Today
                    <p class="push_right">2024. 10. 18.</p>
                </div>
                <!-- <div class="row"><button class="modal_handler" tm-for="#myModal" tm-role="open">OPEN MODAL</button></div> -->
                <div id="files" class="row"></div>
            </div>
        </main>

        <!-- <button id="new" class="icon_button circle" tm-source="https://icons.getbootstrap.com/assets/icons/plus-lg.svg" style="position: fixed; right: 5vmin; bottom: 5vmin; background-color: var(--accent-color); padding: .2em; font-size: 50px; box-sizing: content-box;"></button> -->
        <div id="draw_screen">
            <div id="canvas_wrap"></div>
            <div id="ui_elements">
                <div id="title_bar" class="color_secondary" style="position: absolute; top: 1%; left: 1%; display: inline-flex; gap: 3%">
                   <i class="fa-solid fa-caret-left hoverable clickable" onclick="ui.close_file()"></i> 
                   <input id="title" style="border: none; padding: 0; color: inherit; width: min-content;" type="text" name="title" value="New file">
                </div>
                <div id="toolbar" class="capsule card spin_border" style="--border-spin-duration: 10s; position: absolute; left: 50%; translate: -50% 0; bottom: 2%; width: 60%; aspect-ratio: 1 / 6; padding: 0 4%; max-height: 12vh;">
                    <div class="row height_100">
                        <div class="row" style="width: fit-content; gap: .2em;">
                            <button class="box_shadow icon_button background_tertiary circle" id="ctrl_z" tm-source="https://icons.getbootstrap.com/assets/icons/arrow-counterclockwise.svg" style="padding: .1em; font-size: .8em; box-sizing: content-box;"></button>
                            <button class="box_shadow icon_button background_tertiary circle" id="ctrl_y" tm-source="https://icons.getbootstrap.com/assets/icons/arrow-clockwise.svg" style="padding: .1em; font-size: .8em; box-sizing: content-box;"></button>
                        </div>
                        <div id="tools" class="flex height_100 " style="flex-grow: 1; overflow-y: hidden;"></div>
                        <div id="colors" style="display: grid; grid-template-rows: auto auto; grid-auto-flow: column; gap: .2em">
                            <div class="color" style="color: #abb0b0"></div>
                            <div class="color" style="color: #80beb2"></div>
                            <div class="color" style="color: #7a97c6"></div>
                            <div class="color" style="color: #e2685e"></div>
                            <div class="color" style="color: #fae272"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="settings_modal" class="modal spin_border">
            <div class="modal_header">
                <div class="modal_title">Beállítások</div><button class="modal_handler icon_button" tm-for="#settings_modal" tm-role="close" tm-source="https://icons.getbootstrap.com/assets/icons/x-lg.svg"></button>
            </div>
            <div class="modal_main">
                <div class="container">
                    <div class="row">
                        Sötét Mód <input id="theme_picker" class="push_right" checked type="checkbox" onclick="main.set_theme(this.checked ? 'dark' : 'light')">
                    </div>
                    <div class="row input_row">
                        <p>Név</p>
                        <input id="settings_name" type="text" name="settings_name" value="">
                    </div>
                    <div class="row input_row">
                        <p>Jelszó</p>
                        <input id="settings_password" type="text" name="settings_password" value="">
                    </div>
                    <div class="row input_row">
                        <p>Jelszó újból</p>
                        <input id="settings_password_again" type="text" name="settings_password_again" value="">
                    </div>
                    <button type="button" class="push_right" onclick="main.set_user_settings();">Mehet</button>
                </div>
            </div>
        </div>

        <div id="users_modal" class="modal spin_border narrow">
            <p class="horizontal_button gap_before modal_handler" tm-for="#create_profile_modal">Új profil</p>
            <p class="horizontal_button modal_handler" tm-for="#login_modal">Bejelentkezés</p>
            <p style="color: var(--color-danger);" class="horizontal_button" onclick="main.logout()">
                Kijelentkezés
                <button class="icon_button push_right" tm-source="https://icons.getbootstrap.com/assets/icons/box-arrow-right.svg"></button>
            </p>
        </div>

        <div id="note_info_modal" class="modal spin_border">
            <div class="modal_header">
                <div id="note_info_title" class="modal_title">Új jegyzet</div><button class="modal_handler icon_button" tm-for="#note_info_modal" tm-role="close" tm-source="https://icons.getbootstrap.com/assets/icons/x-lg.svg"></button>
            </div>
            <div class="modal_main">
                <div class="row input_row">
                    <p>Cím</p><input type="text" id="note_info_title_input" value=""> 
                </div>
                <div class="row">
                    <div id="note_info_tags_list" class="toggle_list"></div>
                </div>
            </div>
            <div class="modal_footer">
                <button class="icon_button" tm-source="https://icons.getbootstrap.com/assets/icons/copy.svg"></button>
                <button class="icon_button" tm-source="https://icons.getbootstrap.com/assets/icons/box-arrow-up.svg"></button>
                <button class="icon_button" tm-source="https://icons.getbootstrap.com/assets/icons/box-arrow-right.svg"></button>
                <button class="icon_button" tm-source="https://icons.getbootstrap.com/assets/icons/trash3.svg" style="color: var(--color-danger);"></button>
            </div>
        </div>

        <div id="login_modal" class="modal spin_border">
            <div class="modal_header">
                <div class="modal_title">Bejelentkezés</div><button class="modal_handler icon_button" tm-for="#login_modal" tm-role="close" tm-source="https://icons.getbootstrap.com/assets/icons/x-lg.svg"></button>
            </div>
            <div class="modal_main">
                <div class="container">
                    <div class="row input_row">
                        <p>
                            Email:
                        </p>
                        <input id="login_email" autocomplete="email" autocapitalize="none" type="email" placeholder="john.doe@gmail.com">
                    </div>
                    <div class="row input_row">
                        <p>
                            Jelszó:
                        </p>
                        <input id="login_password" autocomplete="current-password" type="password" placeholder="Titok123">
                    </div>
                    <div class="row">
                        <button class="modal_handler push_right" tm-for="#login_modal" tm-role="close" onclick="main.login()">Bejelentkezés</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="create_profile_modal" class="modal spin_border">
            <div class="modal_header">
                <div class="modal_title">Új profil</div><button class="modal_handler icon_button" tm-for="#create_profile_modal" tm-role="close" tm-source="https://icons.getbootstrap.com/assets/icons/x-lg.svg"></button>
            </div>
            <div class="modal_main">
                <div class="container">
                    <div class="row input_row">
                        <p>
                            Email:
                        </p>
                        <input id="create_profile_email" autocomplete="email" autocapitalize="none" type="email" placeholder="john.doe@gmail.com">
                    </div>
                    <div class="row input_row">
                        <p>
                            Név:
                        </p>
                        <input id="create_profile_name" autocomplete="name" autocapitalize="on" type="name" placeholder="John Doe">
                    </div>
                    <div class="row input_row">
                        <p>
                            Jelszó:
                        </p>
                        <input id="create_profile_password" autocomplete="current-password" type="password" placeholder="Titok123">
                    </div>
                    <div class="row input_row">
                        <p>
                            Jelszó újból:
                        </p>
                        <input id="create_profile_password_again" autocomplete="current-password" type="password" placeholder="Titok123">
                    </div>
                    <div class="row">
                        <button class="modal_handler push_right" onclick="main.create_profile()">Mehet!</button>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://tetimiki.hu/assets/tmui/tmui.js"></script>
        <script src="boring.js"></script>
        <script src="local.js"></script>
        <script src="actions.js"></script>
        <script src="apis.js"></script>
        <script src="draw.js"></script>
        <script src="ui.js"></script>
        <script src="main.js"></script>
    </body>
</html>
